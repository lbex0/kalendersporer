<mvc:View controllerName="kalenderui.controller.Calender"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:unified="sap.ui.unified"
    xmlns="sap.m">

    <VBox class="sapUiSmallMargin" fitContainer="true">
        <Toolbar>
            <SearchField
                id="searchField"
                width="300px"
                placeholder="Search people..."
                liveChange="onSearchPeople" />

            <Select
                id="appointmentTypeFilter"
                change="onFilterAppointments"
                width="200px"
                autoAdjustWidth="true"
                forceSelection="false"
                placeholder="Filter by type">
                <items>
                    <core:Item key="" text="All Types" />
                    <core:Item key="Bursdag" text="Bursdag" />
                    <core:Item key="Fravær" text="Fravær" />
                    <core:Item key="Ferie" text="Ferie" />
                    <core:Item key="Fridager" text="Fridager" />
                </items>
            </Select>

            <Button
                icon="sap-icon://undo"
                tooltip="Reset Filters"
                press="onResetFilters" />

            <ToolbarSpacer />

            <Button icon="sap-icon://refresh" tooltip="Refresh" press="handleRefresh" />
            <Button icon="sap-icon://palette" tooltip="Toggle Theme" press="onToggleTheme" />
        </Toolbar>

        <PlanningCalendar
            id="PC1"
            startDate="{/startDate}"
            rows="{/people}"
            appointmentsVisualization="Filled"
            appointmentSelect="handleAppointmentSelect"
            showEmptyIntervalHeaders="false"
            stickyHeader="true"
            showWeekNumbers="true"
            width="100%">

            <rows>
                <PlanningCalendarRow
                    icon="{pic}"
                    title="{name}"
                    text="{role}"
                    appointments="{appointments}"
                    intervalHeaders="{headers}">
                    
                    <appointments>
                        <unified:CalendarAppointment
                            startDate="{start}"
                            endDate="{end}"
                            icon="{pic}"
                            title="{title}"
                            text="{info}"
                            type="{type}"
                            tentative="{tentative}" />
                    </appointments>

                    <intervalHeaders>
                        <unified:CalendarAppointment
                            startDate="{start}"
                            endDate="{end}"
                            icon="{pic}"
                            title="{title}"
                            type="{type}" />
                    </intervalHeaders>
                </PlanningCalendarRow>
            </rows>
        </PlanningCalendar>
    </VBox>
</mvc:View>